---
import Sunny from "../icons/google-icons/sunny.svg";
import Nightlight from "../icons/google-icons/nightlight.svg";
---

<button
  id="theme-toggle"
  class="flex h-8 w-8 cursor-pointer items-center justify-center rounded-full border-none bg-black text-base text-white shadow-lg transition-colors duration-300 hover:bg-neutral-700 dark:bg-white dark:text-black dark:hover:bg-neutral-300"
  aria-label="Toggle theme"
>
  <span class="theme-icon">
    <Sunny class="sun-icon" />
    <Nightlight class="moon-icon hidden" />
  </span>
</button>

<script>
  const themeToggle = document.getElementById("theme-toggle");
  const sunIcon = themeToggle?.querySelector(".sun-icon");
  const moonIcon = themeToggle?.querySelector(".moon-icon");

  // Theme toggle functionality
  const currentTheme = localStorage.getItem("theme") || "light";

  if (currentTheme === "dark") {
    document.documentElement.classList.add("dark");
    sunIcon?.classList.add("hidden");
    moonIcon?.classList.remove("hidden");
  }

  themeToggle?.addEventListener("click", () => {
    document.documentElement.classList.toggle("dark");

    if (document.documentElement.classList.contains("dark")) {
      localStorage.setItem("theme", "dark");
      sunIcon?.classList.add("hidden");
      moonIcon?.classList.remove("hidden");
    } else {
      localStorage.setItem("theme", "light");
      sunIcon?.classList.remove("hidden");
      moonIcon?.classList.add("hidden");
    }
  });
</script>
